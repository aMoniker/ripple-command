'use strict';

var program = require('commander');
var {Config} = require('ripple-command/config');
var {Console} = require('ripple-command/console');
var {RippleWrapper} = require('ripple-command/api/ripple-wrapper');

program
    .command('generate-address')
    .option('--algorithm <type>', 'The digital signature algorithm to generate an address for. Can be "ecdsa-secp256k1" (default) or "ed25519"')
    .option('--entropy <integers>', 'A comma-separated list of 16 integers used to generate the seed.')
    .description('generate a new address and secret - can be done offline')
    .action(function(cmd, options) {
        Config.absorb(program.opts(), cmd.opts());
        Console.out('New wallet address:');
        (new RippleWrapper()).invoke('generateAddress').then((address) => {
            Console.out(address, 1);
        });
    })
    ;
