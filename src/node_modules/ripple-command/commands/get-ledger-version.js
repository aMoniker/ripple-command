'use strict';

var program = require('commander');
var {Config} = require('ripple-command/config');
var {Console} = require('ripple-command/console');
var {RippleWrapper} = require('ripple-command/api/ripple-wrapper');

program
    .command('get-ledger-version')
    .description('Returns the most recent validated ledger version number known to the currently configured server.')
    .action(function(command) {
        Config.absorb(program.opts(), command.opts());
        (new RippleWrapper()).invoke('getLedgerVersion').then((version) => {
            Console.out('Current ledger version:');
            Console.out(version, 1);
        });
    })
    ;
