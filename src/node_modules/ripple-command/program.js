'use strict';

const fs = require('fs');
const path = require('path');
const program = require('commander');
const {Config} = require('ripple-command/config');
const p = require('ripple-command/../../../package.json');

// main program options
program
    .version(p.version)
    .option('-s, --server <address>', `The websocket address of the ripple server to transact against. Defaults to "${Config.getDefault('server')}"`)
    .option('-o, --offline', 'Use offline mode, which will not send any transactions. Only certain commands are available in offline mode.')
    .option('--debug', 'Run in debug mode, which outputs extra information.')
    ;

// require all program commands from ./commands
let commands_path = path.posix.resolve(`${__dirname}/commands`);
for (let file of fs.readdirSync(commands_path)) {
    require(path.posix.resolve(`${commands_path}/${file}`));
}
